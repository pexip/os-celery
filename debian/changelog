celery (3.1.23-7pexip1) pexip; urgency=medium

  * New upstream release

 -- John-Mark Bell <jmb@pexip.com>  Sat, 28 Jul 2018 22:39:12 +0100

celery (3.1.23-7) unstable; urgency=medium

  * Fix bashisms in initd scripts. Closes: #858298.

 -- Brian May <bam@debian.org>  Thu, 30 Mar 2017 07:55:02 +1100

celery (3.1.23-6) unstable; urgency=medium

  * Change celeryd to depend on python-celery-common instead of python-celery.
    Closes: #858305.
  * Add celeryd depends on lsb-base.

 -- Brian May <bam@debian.org>  Fri, 24 Mar 2017 17:00:36 +1100

celery (3.1.23-5) unstable; urgency=medium

  * Move celeryd to admin section. Closes: #832192.

 -- Brian May <bam@debian.org>  Sun, 31 Jul 2016 16:19:29 +1000

celery (3.1.23-4) unstable; urgency=medium

  * Update standards version to 3.9.8
  * Fix su invocation. Closes: #824786.

 -- Brian May <bam@debian.org>  Wed, 25 May 2016 18:09:45 +1000

celery (3.1.23-2) unstable; urgency=medium

  * Update dependencies. Closes: #823720.

 -- Brian May <bam@debian.org>  Mon, 09 May 2016 11:11:06 +1000

celery (3.1.23-1) unstable; urgency=medium

  [ Ondřej Nový ]
  * Fixed VCS URL

  [ Brian May ]
  * New upstream release.

 -- Brian May <bam@debian.org>  Sun, 17 Apr 2016 19:17:26 +1000

celery (3.1.20-1) unstable; urgency=low

  * New upstream release.
  * Reverse dependencies between python(3)-celery and python-celery-common as
    the later only provides supplemental tools depending on the actual
    implementation.
  * Refresh patch to remove external assets from documentation.
  * Bump all dependencies on billiard to >= 3.3.0.22.
  * Bump all dependencies on kombu to >= 3.0.33.
  * Demote python-kombu-doc to an unversioned Build-Depends.
  * Use https in Vcs-Git field.

 -- Michael Fladischer <fladi@debian.org>  Mon, 01 Feb 2016 10:49:26 +0100

celery (3.1.19-3) unstable; urgency=medium

  * Requires python-billiard 3.3.0.21 or later. Closes: #810899.

 -- Brian May <bam@debian.org>  Thu, 14 Jan 2016 11:06:44 +1100

celery (3.1.19-2pexip5) pexip; urgency=low

  * debian/patches/lsb-start.patch: Don't start daemons on boot.
  * debian/forking.conf: Give systemd sysv-generator hint that
    init scripts fork daemons.

 -- John-Mark Bell <jmb@pexip.com>  Wed, 27 Jun 2018 18:48:56 +0100

celery (3.1.19-2pexip4) pexip; urgency=low

  * debian/control, debian/rules: Reinstate python3 support
  * debian/patches/fix-chuid.patch: Make init script privdrop work
    even when the desired user account is configured with no shell.

 -- John-Mark Bell <jmb@pexip.com>  Thu, 13 Apr 2017 17:02:41 +0100

celery (3.1.19-2pexip3) pexip; urgency=low

  * celeryd.postinst: Replace debhelper additions to avoid auto start of celery

 -- Colin Bradbury <colin@pexip.com>  Wed, 20 Jan 2016 14:37:46 +0000

celery (3.1.19-2pexip2) pexip; urgency=low

  * debian/control: Simplify dependencies

 -- Colin Bradbury <colin@pexip.com>  Thu, 10 Dec 2015 17:21:04 +0000

celery (3.1.19-2pexip1) pexip; urgency=low

   * New upstream release.
   * debian/control, debian/rules: disable Python 3 package

 -- Colin Bradbury <colin@pexip.com>  Thu, 10 Dec 2015 17:21:04 +0000

celery (3.1.19-2) unstable; urgency=medium

  * Fix debian/copyright. Closes: #803117.

 -- Brian May <bam@debian.org>  Mon, 30 Nov 2015 12:55:10 +1100

celery (3.1.19-1) unstable; urgency=medium

  * New upstream release.
  * Add 0007-Update-license.patch from upstream. Closes: #803117.

 -- Brian May <bam@debian.org>  Thu, 19 Nov 2015 10:33:01 +1100

celery (3.1.18-3) unstable; urgency=medium

  * Add 0007-Improve-the-magic-module-check-Closes-801640.patch from upstream
    to fix magic module check (Closes: #801640).
  * Add 0008-ci-Tests-passing-on-Python-3.5.patch from upstream to make tests
    pass on Python3.5.
  * Update Vcs fields for git migration.
  * Initialize git-dpm.
  * Bump debhelper compatibility and version to 9.

 -- Michael Fladischer <fladi@debian.org>  Fri, 16 Oct 2015 18:47:46 +0200

celery (3.1.18-2) unstable; urgency=medium

  * Add fix_test_typos.patch to fix misspelled method names in unit
    tests (Closes: #795393).

 -- Michael Fladischer <fladi@debian.org>  Thu, 13 Aug 2015 21:07:36 +0200

celery (3.1.18-1) unstable; urgency=medium

  * New upstream release (Closes: #762963).
  * Drop fix-tests patch since the certificate expiration test is now
    skipped by upstream.
  * Refresh patches.
  * Bump dependencies on python(3)-kombu to >= 3.0.24.
  * Source /lib/lsb/init-functions in all init scripts.
  * Drop XS-Testsuite as dpkg can now do autodetection.
  * Add X-Python3-Version for versions => 3.3.
  * Change my email address to fladi@debian.org.

 -- Michael Fladischer <fladi@debian.org>  Wed, 20 May 2015 16:01:03 +0200

celery (3.1.13-3) unstable; urgency=low

  * Drop unnecessary versioned dependencies for packages:
    + python-billiard
    + python3-billiard
    + python3-dateutil
    + python3-kombu
  * Remove python3-sphinx from Build-Depends as it is never used.
  * Rename licenses in d/copyright to conform to version 1.0 machine-
    readable names.
  * Update years and names/mail-adresses in d/copyright.
  * Move manpages to python-celery-common package.
  * Move supervisor configuration example to python-celery-common
    package.
  * Install README.rst as documentation in python3-celery package.
  * Bump Standards-Version to 3.9.6.
  * Specify unique descriptions for each package.
  * Add DEP3 header to fix_tests patch.
  * Remove unused license section for BSD-3-clause after pool.py has
    been dropped by upstream.
  * Do not install manpages for scripts that are no longer present.
  * Line-wrap fields in d/control.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Tue, 21 Oct 2014 15:59:31 +0200

celery (3.1.13-2) unstable; urgency=low

  [Brian May]
  * Remove version requirement in wrappers. Closes: #758640.
  * Add breaks/replaces for python-celery-common as it now contains files
    formally in python-celery.

  [Michael Fladischer]
  * Remove PHONY target declarations in d/rules.

 -- Brian May <bam@debian.org>  Thu, 21 Aug 2014 09:03:40 +1000

celery (3.1.13-1) unstable; urgency=low

  * New upstream version.

 -- Brian May <bam@debian.org>  Mon, 18 Aug 2014 13:30:19 +1000

celery (3.1.12-2) unstable; urgency=medium

  [ Michael Fladischer ]
  * Drop python-cl from Depends and Build-Depends as it is no longer needed.

  [ Brian May ]
  * Python3 package. Closes: #753555.
  * Change certificate test, as test certificate has expired. Closes: #757897.

 -- Brian May <bam@debian.org>  Wed, 13 Aug 2014 12:13:59 +1000

celery (3.1.12-1pexip2) pexip; urgency=low

  * Reinstate patch to fix init script.

 -- John-Mark Bell <jmb@pexip.com>  Wed, 20 Aug 2014 18:06:42 +0100

celery (3.1.12-1pexip1) pexip; urgency=low

  * New upstream release.
  * debian/patches/fix_hub_tests.patch:
    Drop patch superceded by new upstream.
  * debian/patches/fix_tests:
    Backport from upstream http://anonscm.debian.org/viewvc/python-modules?view=revision&revision=30143

 -- John-Mark Bell <jmb@pexip.com>  Wed, 20 Aug 2014 15:56:13 +0100

celery (3.1.12-1) unstable; urgency=low

  * New upstream release.
  * Drop python-sphinxcontrib.issuetracker from Build-Depends as it is no
    longer needed (Closes: #750528).
  * Bump Depends and Build-Depends for kombu to 3.0.19.
  * Add autopkgtest that runs the upstream test suite against the installed
    packages.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Tue, 24 Jun 2014 22:37:27 +0200

celery (3.1.11-1) unstable; urgency=low

  * New upstream release.
  * Refresh patches.
  * Check PGP signature on upstream tarball:
    + Add signature URL to debian/watch.
    + Include upstream public PGP key 030A2708.
    + Allow debian/upstream-signing-key.pgp to be included as a binary.
  * Replace duplicate file in documentation with symlink.
  * Bump Build-Depends and Depends for python-billiard to (>= 3.3.0.17).
  * Bump Build-Depends and Depends for python-kombu to (>= 3.0.15).
  * Update files in celery.egg-info to be cleaned.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Wed, 23 Apr 2014 15:31:00 +0200

celery (3.1.9-1pexip2) pexip; urgency=low

  * Add patch to fix init script

 -- Colin Bradbury <colin@pexip.com>  Wed, 16 July 2014 10:38:00 +0000

celery (3.1.9-1pexip1) pexip; urgency=low

  * Prepare Pexip packaging
  * debian/patches/fix_hub_tests.patch:
    Backport https://github.com/celery/celery/commit/96eb2fa004b673cad06b3254c94d267af1034587
  * debian/control:
    Remove unused (Build-)Depends

 -- John-Mark Bell <jmb@pexip.com>  Mon, 19 May 2014 11:32:44 +0000

celery (3.1.9-1) unstable; urgency=medium

  * New upstream release.
  * Refresh patches.
  * Drop fix_dependencies.patch, as it is no longer needed.
  * Add privacy.patch to drop external assets from documentation.
  * Bump Build-Depends and Depends on python-billiard to >= 3.3.15.
  * Bump Build-Depends and Depends on python-kombu to >= 3.0.12.
  * Manually copy logo image to documentation as it does not get picked up by
    sphinx automatically.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Tue, 11 Feb 2014 13:33:47 +0100

celery (3.1.6-1) unstable; urgency=low

  [ Michael Fladischer ]
  * New upstream release (Closes: #711338).
  * Bump Standards version to 3.9.5.
  * Bump Build-Depends on debhelper to >= 8.1.0 to satisfy build-arch
    and build-indep targets.
  * Add build dependency on python-openssl to enable more tests.
  * Add drop_downgrade.patch to remove upstream celery.app detection and
    removal code.
  * Add disable_unstable_tests.patch to disable randomly failing test.
  * Add fix_test_crontab_is_due.patch to fix timeshifts in tests.
  * Add locales to Build-Depends so LC_ALL=C.UTF-8 can be used.
  * Make Build-Depends on python-mock versioned with (>= 1.0.1).
  * Use LC_ALL=C.UTF-8 when running tests.
  * Refresh existing patches.
  * Install upstream changelog.
  * Update upstream homepage URL to the official one.
  * celeryd:
    + Move daemon management scripts to the separate celeryd package.
    + Document change in NEWS.
    + Install init scripts from extra instead of contrib.
    + Move default file from python-celery to celeryd package.
    + Move postinst and postrm files from python-celery to celeryd package.
    + Breaks python-celery (<< 3.0.24-1) to avoid file conflicts.
    + Do not define CELERYD_PID_FILE in /etc/default/celeryd to enable
      automatic generation by init.d script.
    + Drop init.d/celeryevcam as it is no longer shipped by upstream.
  * python-celery
    + Install supervisord from extra instead of contrib.
    + Add versioned dependency on python-billiard.
    + Bump dependency on python-kombu(-doc) to >= 2.5.15.
    + Add dependency on python-tz.
    + Drop depenceny on python-amqplib, it has been replaced by
      python-amqp/python-librabbitmq in python-kombu.
    + Drop dependency on python-anyjson, as it is required by python-kombu which
      already has it set as a versioned dependency.
    + Install celery.1 manpage.
    + Suggest python-celery-doc.
  * python-celery-doc
    + Adapt filenames in d/docs to new upstream names.
    + Update directories in doc-base.

  [ Jakub Wilk ]
  * Use canonical URIs for Vcs-* fields.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Sun, 15 Dec 2013 20:58:41 +0100

celery (2.5.3-4) unstable; urgency=low

  * Unconditionally remove /var/log/celery on purge.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Fri, 01 Mar 2013 12:17:32 +0100

celery (2.5.3-3) unstable; urgency=low

  * Remove logfiles during purge if user and group are removed.
  * Use /nonexistant as $HOME for user celery.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Tue, 12 Feb 2013 08:57:59 +0100

celery (2.5.3-2) unstable; urgency=low

  * Create user celery in maintainer scripts (Closes: #697195).
  * Update year in d/copyright.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Sun, 13 Jan 2013 19:10:12 +0100

celery (2.5.3-1) unstable; urgency=low

  * New upstream release.
  * Bump dependencies on kombu to (>= 2.1.5).
  * Update patches to remove nose-cover3.
  * Enable init scripts.
  * Update DEP-5 URL to 1.0.
  * Bump to standards version 3.9.3.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Mon, 27 Feb 2012 14:58:29 +0100

celery (2.4.6-1) unstable; urgency=low

  * New upstream release.
    Fixes: CVE-2011-4356
  * Update copyright to 2012.

 -- Michael Fladischer <FladischerMichael@fladi.at>  Mon, 02 Jan 2012 12:45:47 +0100

celery (2.4.5-1) unstable; urgency=low

  * Initial release (Closes: #526350)

 -- Michael Fladischer <FladischerMichael@fladi.at>  Tue, 27 Dec 2011 11:57:41 +0100
